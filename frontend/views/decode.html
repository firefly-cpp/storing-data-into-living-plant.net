<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>BioCache</title>
    <link rel="icon" type="image/x-icon" href="../assets/images/icon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <script src="../scripts/conversion.js"></script>
    <script src="../scripts/modal.js"></script>
    <script src="../assets/styles/tailwind.js"></script>
    <link rel="stylesheet" href="../assets/styles/style.css">
</head>

<body>
    <div id="contentWrapper" class="flex flex-col">
        <!-- HEADER -->
        <header>
            <nav class="mx-auto flex lg:max-w-7xl items-center justify-between p-8 lg:px-16" aria-label="Global">
                <div class="flex lg:flex-1">
                    <a href="/" class="-m-1.5 p-1.5">
                        <span class="sr-only">BioCache</span>
                        <img class="h-12 w-auto" src="../assets/images/icon.png" alt="BioCache">
                    </a>
                </div>
                <div class="flex lg:hidden">
                    <button type="button" onclick="toggleMobile('mobileModal')"
                        class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700">
                        <span class="sr-only">Open main menu</span>
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                            aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                        </svg>
                    </button>
                </div>
                <div class="hidden lg:flex lg:flex-1 lg:justify-end lg:gap-x-12">
                    <a href="/about" class="text-sm font-semibold leading-6 text-gray-900">About</a>
                    <a href="/encode" class="text-sm font-semibold leading-6 text-gray-900">Encode</a>
                    <a href="/decode" class="text-sm font-semibold leading-6 text-gray-900">Decode</a>
                </div>
            </nav>
            <div id="mobileModal" class="lg:hidden hidden" role="dialog" aria-modal="true">
                <div id="mobileModal-backdrop" class="fixed inset-0 z-10"></div>
                <div
                    class="fixed inset-y-0 right-0 z-10 w-full overflow-y-auto bg-white p-8 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10">
                    <div class="flex items-center justify-between">
                        <a href="/" class="-m-1.5 p-1.5">
                            <span class="sr-only">BioCache</span>
                            <img class="h-12 w-auto" src="../assets/images/icon.png" alt="BioCache">
                        </a>
                        <button type="button" onclick="toggleMobile('mobileModal')"
                            class="-m-2.5 rounded-md p-2.5 text-gray-700">
                            <span class="sr-only">Close menu</span>
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    <div class="mt-6 flow-root">
                        <div class="-my-6">
                            <div class="space-y-2 py-6">
                                <a href="/about"
                                    class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50">About</a>
                                <a href="/encode"
                                    class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50">Encode</a>
                                <a href="/decode"
                                    class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50">Decode</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- BACKGROUND -->


        <!-- CONTENT -->
        <div class="flex-grow flex items-center justify-center self-center">
            <div id="upload_section" class="relative isolate px-8">
                <div class="mx-auto max-w-7xl lg:px-8">
                    <div class="mx-auto mb-8 lg:text-center lg:max-w-7xl justify-center" style="top: -32rem">
                        <h2 class="text-base font-semibold leading-7 text-emerald-700">DECODE</h2>
                        <p class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
                            Convert plant DNA sequence to text
                        </p>
                        <div class="mt-6 lg:text-center sm:text-left lg:w-2/3 lg:mx-auto sm:mx-0">
                            <p class="mt-6 text-lg leading-8 text-gray-600">
                                The classic method does not use compression, while Compression1 uses Huffman coding and
                                requires a key. In the future, more methods will be added (e.g., Adaptive Huffman,
                                arithmetic coding, etc.).
                            </p>
                        </div>
                    </div>

                    <div class="mx-auto mb-8 lg:max-w-6xl">
                        <form onsubmit="submit()" style="width: 100%;">
                            <div class="grid grid-cols-2 gap-x-6 gap-y-4">
                                <div class="lg:col-span-1 col-span-2">
                                    <label for="method"
                                        class="block text-sm font-medium leading-6 text-gray-900">Method</label>
                                    <div class="mt-2">
                                        <select id="method" name="method" onchange="changeMethod()"
                                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 sm:leading-6">
                                            <option selected value="classic">Classic</option>
                                            <option value="compression1">Compression1</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="lg:col-span-1 col-span-2">
                                    <label for="compression_key"
                                        class="block text-sm font-medium leading-6 text-gray-900">Key</label>
                                    <div class="mt-2">
                                        <input type="text" name="compression_key" id="compression_key" disabled
                                            class="block w-full pl-2 bg-gray-50 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6">
                                    </div>
                                </div>
                                <div class="lg:col-span-1 col-span-2">
                                    <label for="sequence" class="block text-sm font-medium leading-6 text-gray-900">DNA
                                        sequence</label>
                                    <div class="mt-2">
                                        <textarea rows="5" name="sequence" id="sequence"
                                            placeholder="Enter DNA sequence here..."
                                            class="scroll resize-none block w-full px-2 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6"></textarea>
                                    </div>
                                </div>
                                <div class="lg:col-span-1 col-span-2">
                                    <label for="custom_text"
                                        class="block text-sm font-medium leading-6 text-gray-900">Text</label>
                                    <div class="relative mt-2">
                                        <textarea rows="5" name="custom_text" id="custom_text" disabled
                                            class="scroll resize-none bg-gray-50 block w-full px-2 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6"></textarea>
                                        <button
                                            class="absolute top-2 right-2 flex items-center justify-center h-8 text-xs bg-white border rounded-md cursor-pointer w-9 border-neutral-200/60 hover:bg-neutral-100 active:bg-white focus:bg-white focus:outline-none text-neutral-500 hover:text-neutral-600 group"
                                            onclick="copyCustomText(event)">
                                            <svg id="copyToClipboard" class="w-4 h-4 stroke-current" viewBox="0 0 24 24"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <g fill="none" stroke="none">
                                                    <path
                                                        d="M7.75 7.757V6.75a3 3 0 0 1 3-3h6.5a3 3 0 0 1 3 3v6.5a3 3 0 0 1-3 3h-.992"
                                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round"></path>
                                                    <path
                                                        d="M3.75 10.75a3 3 0 0 1 3-3h6.5a3 3 0 0 1 3 3v6.5a3 3 0 0 1-3 3h-6.5a3 3 0 0 1-3-3v-6.5z"
                                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round"></path>
                                                </g>
                                            </svg>
                                            <svg id="copiedToClipboard" class="w-4 h-4 stroke-current hidden"
                                                viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                <g fill="none" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        d="M4.5 12.75l6 6 9-13.5" />
                                                </g>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <div class="my-8 flex justify-center">
                            <button
                                class="px-10 text-white bg-emerald-700 font-bold py-2 rounded-full inline-flex items-center"
                                onclick="decode()">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M7.864 4.243A7.5 7.5 0 0119.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 004.5 10.5a7.464 7.464 0 01-1.15 3.993m1.989 3.559A11.209 11.209 0 008.25 10.5a3.75 3.75 0 117.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 01-3.6 9.75m6.633-4.596a18.666 18.666 0 01-2.485 5.33" />
                                </svg>
                                <span style="font-size: 0.85rem">Decode</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="decodeMissingDataModal" class="relative hidden" aria-labelledby="modal-title" role="dialog"
            aria-modal="true">
            <div id="decodeMissingDataModal-backdrop"
                class="fixed hidden inset-0 bg-gray-500 bg-opacity-0 transition-opacity">
            </div>
            <div class="fixed inset-0 z-10 overflow-y-auto">
                <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                    <div
                        class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
                        <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
                            <div class="sm:flex sm:items-start">
                                <div
                                    class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                                    <svg class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                        stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                                    </svg>
                                </div>
                                <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left">
                                    <h3 class="text-base font-semibold leading-6 text-gray-900">
                                        Missing data
                                    </h3>
                                    <div class="mt-2">
                                        <p class="text-sm text-gray-500">
                                            The form contains missing data. Please specify the method and the text for
                                            conversion.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                            <button type="button"
                                class="mt-3 ml-3 inline-flex w-full justify-center rounded-full bg-white px-5 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"
                                onclick="toggleModal('decodeMissingDataModal')">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="missingKeyModal" class="relative hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
            <div id="missingKeyModal-backdrop" class="fixed hidden inset-0 bg-gray-500 bg-opacity-0 transition-opacity">
            </div>
            <div class="fixed inset-0 z-10 overflow-y-auto">
                <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                    <div
                        class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
                        <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
                            <div class="sm:flex sm:items-start">
                                <div
                                    class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                                    <svg class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                        stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                                    </svg>
                                </div>
                                <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left">
                                    <h3 class="text-base font-semibold leading-6 text-gray-900">
                                        Missing key
                                    </h3>
                                    <div class="mt-2">
                                        <p class="text-sm text-gray-500">
                                            "Compression1" method requires a unique key for conversion. Please specify
                                            the
                                            key.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                            <button type="button"
                                class="mt-3 ml-3 inline-flex w-full justify-center rounded-full bg-white px-5 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"
                                onclick="toggleModal('missingKeyModal')">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>